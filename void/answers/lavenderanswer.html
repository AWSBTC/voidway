<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>USS Message Boards — Logs</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    body {
      background: #0a0000;
      color: #e0d6d6;
      font-family: 'Courier New', monospace;
      padding: 2em;
    }

    .message-board {
      max-width: 800px;
      margin: auto;
      background: #120000;
      border-radius: 8px;
      padding: 1.5em;
      box-shadow: 0 0 20px rgba(255,0,0,0.3);
      overflow: hidden;
    }

    .user {
      font-weight: bold;
    }

    .user1 { color: #ff5555; }
    .user2 { color: #55ffff; }

    .log-message {
      margin: 0.3em 0 0.7em 0;
      line-height: 1.4;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .timestamp {
      font-size: 0.8em;
      opacity: 0.6;
      margin-right: 0.5em;
    }

    .notice {
      font-style: italic;
      color: #ffaa55;
      margin: 1em 0;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .typing {
      font-style: italic;
      color: #ffaa55;
      margin: 0.3em 0;
      opacity: 0.8;
    }

    hr {
      border: 1px dashed #550000;
      margin: 1.5em 0;
    }
  </style>
</head>
<body>
  <div class="message-board" id="board">
    <!-- Messages will be injected by JavaScript -->
  </div>

  <script>
    const messages = [
      { user: 'User 1', class: 'user user1', text: 'Have you seen the files for the new agents?' },
      { user: 'User 2', class: 'user user2', text: 'Not rlly anything interesting.' },
      { user: 'User 1', class: 'user user1', text: 'They all came at the exact same time and they didn’t come from their origin doors.' },
      { user: 'User 2', class: 'user user2', text: 'Wdym?' },
      { user: 'User 1', class: 'user user1', text: 'Its weird six ppl came at the exact same time to the millisecond maybe even the nanosecond...' },
      { user: 'User 2', class: 'user user2', text: 'Has she looked at the files?' },
      { user: 'User 1', class: 'user user1', text: 'Not yet she is extremely busy rn with everything and that… thing.' },
      { user: 'User 2', class: 'user user2', text: 'Makes sense, are they transferred to a squad yet?' },
      { user: 'User 1', class: 'user user1', text: 'Yeah we got Owyn from Squad 5 to be a new officer.' },
      { user: 'User 2', class: 'user user2', text: 'Wow you convinced him to leave his squad he has been there for years.' },
      { user: 'User 1', class: 'user user1', text: 'Ikr it took a while but we finally did it.' },
      { user: 'User 2', class: 'user user2', text: 'Anyone interesting in the new squad?' },
      { user: 'User 1', class: 'user user1', text: 'Not really same old same old although there is a girl who was the only humanoid in the universe.' },
      { user: 'User 2', class: 'user user2', text: 'Wow… that sounds… depressing surprised she didn’t commit suicide.' },
      { user: 'User 1', class: 'user user1', text: 'Well she is a SpiritFinder so it seems like she could see her family and probably other dead people.' },
      { user: 'User 2', class: 'user user2', text: 'When is the last time we got a lone survivor I mean its been forever.' },
      { user: 'User 1', class: 'user user1', text: 'Dont know it has been forever.' },
      { user: 'User 2', class: 'user user2', text: 'Is she hot tho?' },
      { user: 'User 1', class: 'user user1', text: '<i>User 1 disconnected</i>' },
      { user: 'User 2', class: 'user user2', text: 'Well **** you too.' },
      { user: 'Notice', class: 'notice', text: 'Please refrain from using profanity.' },
      { user: 'User 2', class: 'user user2', text: 'Shut up.' },
      { user: 'User 2', class: 'user user2', text: '<i>User 2 disconnected</i>' }
    ];

    const board = document.getElementById('board');
    let i = 0;

    function showNextMessage() {
      if (i >= messages.length) return;

      const msg = messages[i];

      // Typing indicator
      if(msg.user !== 'Notice') {
        const typing = document.createElement('p');
        typing.className = 'typing';
        typing.textContent = `${msg.user} is typing...`;
        board.appendChild(typing);

        // Dynamic delay based on message length
        const typingDelay = 500 + msg.text.length * 60 + Math.random() * 500;

        setTimeout(() => {
          board.removeChild(typing);

          const p = document.createElement('p');
          p.className = msg.class + ' log-message';
          p.innerHTML = `<span class="timestamp">${new Date().toLocaleTimeString()}</span> <strong>${msg.user}:</strong> ${msg.text}`;
          board.appendChild(p);

          setTimeout(() => {
            p.style.opacity = 1;
          }, 50);

          i++;
          setTimeout(showNextMessage, 300); // small gap before next typing starts
        }, typingDelay);
      } else {
        // Show notice immediately
        const p = document.createElement('p');
        p.className = 'notice log-message';
        p.textContent = msg.text;
        board.appendChild(p);

        setTimeout(() => {
          p.style.opacity = 1;
        }, 50);

        i++;
        setTimeout(showNextMessage, 300);
      }
    }

    showNextMessage();
  </script>
</body>
</html>
